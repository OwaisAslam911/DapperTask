@model IEnumerable<DapperTask.Models.EmployeeViewModel>
<div class="container">
        <div class="d-flex">
        <div class="form">
            <form method="post">
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Employee name</label>
                    <input type="text" name="EmployeeName" id="EmployeeName" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">

                </div>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label"> Phone</label>
                    <input type="text" name="Phone" id="Phone" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">

                </div>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label"> Email</label>
                    <input type="text" name="Email" id="Email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Salary</label>
                    <input type="text" name="Salary" id="Salary" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                </div>


                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
        <div class="dropdowns">
            <div class="mb-3">
                <label for="OrganizationId" class="form-label">Organization</label>
                <select class="form-select" id="OrganizationId" name="OrganizationId" required>
                    <option>Select Your Organization</option>
                    @foreach (var organization in ViewBag.Organizations)
                    {
                        <option value="@organization.OrganizationId">@organization.OrganizationName</option>
                    }
                </select>
            </div> 
            <div class="mb-3">
                <label for="OrganizationId" class="form-label">Departments</label>
                <select class="form-select" id="OrganizationId" name="OrganizationId" required>
                    <option>Select Your Department</option>
                    @foreach (var department in ViewBag.Departments)
                    {
                        <option value="@department.DepartmentId">@department.DepartmentName</option>
                    }
                </select>
            </div> 
            <div class="mb-3">
                <label for="OrganizationId" class="form-label">Positions</label>
                <select class="form-select" id="OrganizationId" name="OrganizationId" required>
                    <option>Select Your Positions</option>
                    @foreach (var position in ViewBag.Positions)
                    {
                        <option value="@position.PositionId">@position.PositionTitle</option>
                    }
                </select>
            </div>
        </div>
        </div>
   
</div>

<h2>Departments</h2>
<table class="table">
    <thead>
        <tr>
            <th>Employee ID</th>
            <th>Name</th>
            <th>Position Name</th>
            <th>Department Name</th>
            <th>Organization Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Salary</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var dept in Model)
        {
            <tr>
                <td>@dept.EmployeeId</td>
                <td>@dept.EmployeeName</td>
                <td>@dept.PositionTitle</td>
                <td>@dept.DepartmentName</td>
                <td>@dept.OrganizationName</td>

                <td>@dept.Email</td>
                <td>@dept.Phone</td>
                <td>@dept.Salary</td>
                <td>
                    <form method="post" action="@Url.Action("DeleteEmployee", "Home")" onsubmit="return confirm('Are you sure you want to delete this Employee?');">
                        <input type="hidden" name="EmployeeId" value="@dept.EmployeeId" />
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </form>
                    <a asp-action="Delete" asp-route-id="@dept.EmployeeId">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>
